#!/bin/bash

proj=$1

if [ -z "$proj" ]; then
  echo "name/repo required"
  exit 1
fi
echo $proj

arr=(${proj/\// })
name=${arr[0]}
repo=${arr[1]}

if [ -d "$repo" ]; then
  echo "$repo exists, updating..."
  cd $repo
  git pull
else
  git clone git@github.com:$proj.git
  cd $repo
fi

git submodule update --init --recursive

if [ -f "package.json" ]; then
  npm install
fi

if [ -f "bower.json" ]; then
  bower install
fi
